# 웹 브라우저 동작 원리



![웹 브라우저 동작원리](https://user-images.githubusercontent.com/53684676/66063944-633c1500-e57f-11e9-8355-854d464806af.JPG)

#### 위의 그림을 이해하기 쉽게 순차적 나열한다면..

1. 사이트로 접근 (도메인에 연결된 ip를 찾아서 사이트서버에 접근)
2. 사이트에서 클라이언트에 index.html로 응답함
3. 클라이언트는 사이트서버에게 받은 index.html로 랜더링 엔진이 html을 로딩하기 시작함
4. html 읽던 중  "<link>"태그(link태그에서는 css파일이 연결되어있다고 가정)를 만남
5. css파일이 필요해진 클라이언트는 다시 사이트서버에 css파일을 요청(서버에서  css파일을 응답)
6. 클라이언트는 html파싱을 중지 후 css파일 파싱 시작함
7. css파싱 완료 후cssom트리가 생성됨 (중지했었던 html파싱을 재시작)
8. 다시 html파싱 중 <script>태그를 만남
9. 파싱중지하고 다시 사이트서버에 js파일을 요청함 (서버는js파일을 응답해줌)
10. 클라이언트의 랜더링 엔진은 js파일을 혼자 처리할 수 없기때문에 제어권을 브라우저에 탑재된 javascript엔진에게 넘겨줌
11. javascript엔진이 js 파일을 읽기 시작함 (js파일은 기본적으로 문자열)
12. 토크나이즈(어휘분석 / 최소 단위인 토큰으로 자르는 작업)를 실행함
13. 잘려진 토크들을 트리형태로 나타내기위해 문법적의미와 구조를 더해 AST(Abstract Syntax Tree추상 구문트리)로 만듬
14. AST로는 자바스크립트엔진의 인터프리터를 혼자읽을 수 없기때문에 기계어로 읽게 만들기 위해서 AST에 중간코드(바이트코드)로 넣어 변환 (이 작업을 구문분석이라고 함)
15. AST에 바이트코드를 넣어 변환이 완료되면 자바스크립트엔진이 읽게 되고 실행이 되면 다시 제어권을 랜더링엔진에게 넘겨줌
16. 중지됐었던 html파서는 다시 움직이기 시작 (완성되면 dom트리가 완성됨)
17. 만들어져있던 cssom트리와 dom트리가 결합
18. 랜더트리 생성되고 그 트리를 화면에 표출 
19. 시각적으로 우리가 보는 사이트가 형성됨

### 